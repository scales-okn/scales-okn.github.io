import{_ as l,M as t,p as r,q as u,R as s,N as a,V as o,t as n,a1 as i}from"./framework-5866ffd3.js";const d="/assets/schema-ec721b6e.jpg",k="/assets/neo4j-eb657fcd.png",h={},m=s("h1",{id:"data-files-json-and-rdf",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#data-files-json-and-rdf","aria-hidden":"true"},"#"),n(" Data Files (JSON and RDF)")],-1),v={style:{"margin-top":"-0.5em"}},g=s("em",null,"by Scott Daniel • last updated Mar 22, 2024",-1),f={href:"http://scalesokndata.ci.northwestern.edu",target:"_blank",rel:"noopener noreferrer"},b=s("a",{href:"../guide/ontology"},"Litigation Ontology labels",-1),y=s("a",{href:"../guide/disambiguation"},"Entity Disambiguation dataset",-1),w={href:"https://www.fjc.gov/research/idb",target:"_blank",rel:"noopener noreferrer"},_={href:"https://www.fjc.gov/history/judges",target:"_blank",rel:"noopener noreferrer"},q=s("p",null,[n("For both file types, the files have been sorted into subdirectories based on year code (a PACER case-id convention that may not correspond to the actual filing year) and court. Furthermore, in the uppermost Turtle directory, a file called "),s("code",null,"courts.ttl"),n(" contains some case-nonspecific triples relating to the federal courts.")],-1),x=s("h2",{id:"case-lists",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#case-lists","aria-hidden":"true"},"#"),n(" Case lists")],-1),j=i('<ul><li><strong>2016:</strong> cross-sectional data for &#39;16, non-N.D.-Ill <em>(247,416 cases)</em></li><li><strong>2017:</strong> cross-sectional data for &#39;17, non-N.D.-Ill <em>(319,718 cases)</em></li><li><strong>clearinghouse:</strong> misc AL/GA/IL data scraped for Civil Rights Litigation Clearinghouse <em>(10,483 cases)</em></li><li><strong>cross_sectional:</strong> cases in the cross-sectional dataset on the file server <em>(676,809 cases)</em></li><li><strong>gand:</strong> longitudinal data in N.D. Ga, 2010 &amp; 2015 <em>(11,398 cases)</em></li><li><strong>ilnd:</strong> longitudinal data in N.D. Ill, 2002 – Mar &#39;21 <em>(199,664 cases)</em></li><li><strong>longitudinal:</strong> cases in the longitudinal dataset on the file server, same as above <em>(199,664 cases)</em></li><li><strong>mistakes:</strong> cases scraped accidentally, usually because of PACER filing-date ambiguity <em>(275 cases)</em></li><li><strong>mongo:</strong> cases available in our Mongo database <em>(879,842 cases)</em></li><li><strong>nacdl:</strong> partially cross-sectional NoS-440 case stubs scraped for NACDL <em>(4694 cases)</em></li><li><strong>paed:</strong> longitudinal data in E.D. Pa for private use only, 2002-21 <em>(326,102 cases)</em></li><li><strong>recap:</strong> cases obtained from the Free Law Project&#39;s RECAP archive <em>(86,169 cases)</em></li><li><strong>satyrn:</strong> cases available for analysis in the Satyrn app <em>(864,700 cases)</em></li><li><strong>tx:</strong> longitudinal data in Texas, 2018 &amp; 2020 <em>(72,349 cases)</em></li><li><strong>all</strong> <em>(1,278,268 cases)</em></li></ul><h2 id="schemas" tabindex="-1"><a class="header-anchor" href="#schemas" aria-hidden="true">#</a> Schemas</h2>',2),N=i('<p>The following flowchart specifies the resources and properties described in the Turtle files (each node-edge-node relation in the chart represents a class of &quot;resource -&gt; property -&gt; resource&quot; triples that can appear in the files):</p><div style="text-align:center;"><img src="'+d+`"></div><p>A few notes:</p><ul><li>For visual clarity, a few predicates (e.g. &quot;hasName&quot; under &quot;scales.Court&quot;) are represented by their name alone, rather than a labeled edge to a node; there is otherwise no particular significance to these predicates.</li><li>The edge labeled &quot;hasIdbXXX&quot; refers to a family of predicates named after IDB columns (&quot;hasIdbDocket,&quot; &quot;hasIdbFiledate,&quot; etc). For a given case subject, these predicates point to literals copied from the IDB row corresponding to that case.</li><li>The edge labeled &quot;rdf._n&quot; denotes predicates of the form &quot;rdf._0,&quot;, &quot;rdf._1,&quot; etc, which follow an RDF convention dictating that the objects to which such predicates point can be considered items in an ordered list.</li><li>For a variety of reasons (null values, features of criminal cases that don&#39;t appear in civil cases or vice versa, and so on), each individual case file will include only a subset of the possible triple types described above.</li></ul><h2 id="usage-examples" tabindex="-1"><a class="header-anchor" href="#usage-examples" aria-hidden="true">#</a> Usage examples</h2><p>Iterative loads of the JSON files are usually quite fast, which makes them a versatile first-line research solution, especially when you want to do things like assemble dataframes or operate on strings. For instance, the code block below uses a simple string comparison to flag corporate litigation that may involve Apple:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> json
<span class="token keyword">import</span> glob

matched_paths <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> json_path <span class="token keyword">in</span> tqdm<span class="token punctuation">(</span>glob<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">&#39;path/to/files/scales_json_cross_sectional/*/*/*.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    json_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span>json_path<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">for</span> party <span class="token keyword">in</span> json_data<span class="token punctuation">[</span><span class="token string">&#39;parties&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> party<span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">]</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> <span class="token string">&#39;Apple&#39;</span> <span class="token keyword">in</span> party<span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            matched_paths<span class="token punctuation">.</span>add<span class="token punctuation">(</span>json_path<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p> </p><p>On the other hand, the Turtle files are much slower to load into working memory — but what they lack in lightweightness they make up in structure, particularly when it comes to relationships between entities. Also, the inclusion of non-PACER datasources allows for a wider variety of inquiries, like the below code that searches the previously identified cases for agents with the exact name &quot;Apple Inc.&quot; and ascertains those agents&#39; identities as disambiguated by SCALES:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> rdflib
<span class="token keyword">from</span> rdflib <span class="token keyword">import</span> Graph
scales <span class="token operator">=</span> rdflib<span class="token punctuation">.</span>Namespace<span class="token punctuation">(</span><span class="token string">&#39;http://schemas.scales-okn.org/rdf/scales#&#39;</span><span class="token punctuation">)</span>

g <span class="token operator">=</span> Graph<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> json_path <span class="token keyword">in</span> tqdm<span class="token punctuation">(</span>matched_paths<span class="token punctuation">)</span><span class="token punctuation">:</span>
    g<span class="token punctuation">.</span>parse<span class="token punctuation">(</span>json_path<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&#39;scales_json&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;scales&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&#39;.json&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;.ttl&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

agent_iris<span class="token punctuation">,</span> entity_iris <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># see rdflib.readthedocs.io/en/stable/intro_to_graphs.html</span>
<span class="token keyword">for</span> s<span class="token punctuation">,</span>p<span class="token punctuation">,</span>o <span class="token keyword">in</span> g<span class="token punctuation">.</span>triples<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> scales<span class="token punctuation">.</span>hasName<span class="token punctuation">,</span> rdflib<span class="token punctuation">.</span>Literal<span class="token punctuation">(</span><span class="token string">&#39;Apple Inc.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    agent_iris<span class="token punctuation">.</span>add<span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token keyword">for</span> iri <span class="token keyword">in</span> agent_iris<span class="token punctuation">:</span>
    <span class="token keyword">for</span> s<span class="token punctuation">,</span>p<span class="token punctuation">,</span>o <span class="token keyword">in</span> g<span class="token punctuation">.</span>triples<span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> scales<span class="token punctuation">.</span>isInstanceOfEntity<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        entity_iris<span class="token punctuation">.</span>add<span class="token punctuation">(</span>o<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>entity_iris<span class="token punctuation">)</span> <span class="token comment"># it turns out this is a 1-element set, as all the agents we found are instances of the same entity</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p> </p><p>Since Turtle is a syntax for expressing the versatile RDF data model, these files are well-suited to many languages and conventions. Even within Python there are a number of interaction options, such as the <code>subjects()</code>, <code>objects()</code>, and <code>predicates()</code> methods on rdflib Graph objects:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>apple_iri <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>entity_iris<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
apple_aliases<span class="token punctuation">,</span> apple_lawyers <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> s<span class="token punctuation">,</span>p<span class="token punctuation">,</span>o <span class="token keyword">in</span> g<span class="token punctuation">.</span>triples<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> scales<span class="token punctuation">.</span>isInstanceOfEntity<span class="token punctuation">,</span> apple_iri<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> name <span class="token keyword">in</span> g<span class="token punctuation">.</span>objects<span class="token punctuation">(</span>s<span class="token punctuation">,</span> scales<span class="token punctuation">.</span>hasName<span class="token punctuation">)</span><span class="token punctuation">:</span>
        apple_aliases<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> lawyer_iri <span class="token keyword">in</span> g<span class="token punctuation">.</span>objects<span class="token punctuation">(</span>s<span class="token punctuation">,</span> scales<span class="token punctuation">.</span>hasRepresentation<span class="token punctuation">)</span><span class="token punctuation">:</span>
        apple_lawyers<span class="token punctuation">.</span>add<span class="token punctuation">(</span>lawyer_iri<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Found&#39;</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>apple_aliases<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;aliases:&#39;</span><span class="token punctuation">,</span> apple_aliases<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Found&#39;</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>apple_lawyers<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;lawyers&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p> </p><p>If you prefer, you can query the Turtle files using SPARQL, which enables complex constructs like the below query identifying disambiguated pairs of lawyers who represented Apple together:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>query <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;&quot;&quot;
SELECT DISTINCT ?iri1 ?iri2 WHERE {{
    ?party scales:isInstanceOfEntity &lt;</span><span class="token interpolation"><span class="token punctuation">{</span>apple_iri<span class="token punctuation">}</span></span><span class="token string">&gt; .
    ?party scales:hasRepresentation ?lawyer1 .
    ?party scales:hasRepresentation ?lawyer2 .
    ?lawyer1 scales:isInstanceOfEntity ?iri1 .
    ?lawyer2 scales:isInstanceOfEntity ?iri2 . FILTER (?iri1 != ?iri2)
}}&quot;&quot;&quot;</span></span>

<span class="token keyword">for</span> row <span class="token keyword">in</span> g<span class="token punctuation">.</span>query<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">.</span>iri1<span class="token punctuation">}</span></span><span class="token string"> appears with </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">.</span>iri2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> <span class="token comment"># t</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p> </p><p>You can even create visualizations of your results. For example, it&#39;s easy to export the above query to a file...</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>graph_for_export <span class="token operator">=</span> Graph<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> row <span class="token keyword">in</span> g<span class="token punctuation">.</span>query<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">:</span>
    graph_for_export<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>iri1<span class="token punctuation">,</span> scales<span class="token punctuation">.</span>appearsWith<span class="token punctuation">,</span> row<span class="token punctuation">.</span>iri2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># new predicate, for example purposes</span>

graph_format <span class="token operator">=</span> <span class="token string">&#39;ttl&#39;</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;apple_graph.</span><span class="token interpolation"><span class="token punctuation">{</span>graph_format<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">,</span> <span class="token string">&#39;w&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>graph_for_export<span class="token punctuation">.</span>serialize<span class="token punctuation">(</span><span class="token builtin">format</span><span class="token operator">=</span>graph_format<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>...at which point it can be imported into a graph-visualization platform like Neo4j Bloom:</p><div style="text-align:center;"><img src="`+k+'"></div><p> </p>',22),S=s("a",{href:"../contact"},"get in touch",-1),E={href:"http://satyrn.scales-okn.org/",target:"_blank",rel:"noopener noreferrer"};function I(A,T){const c=t("font"),e=t("ExternalLinkIcon"),p=t("RouterLink");return r(),u("div",null,[m,s("div",v,[a(c,{size:"2"},{default:o(()=>[g]),_:1})]),s("p",null,[n("A collection of flat files representing the bulk of the PACER case data that SCALES has purchased over its lifetime, available "),s("a",f,[n("here"),a(e)]),n(" for users with Satyrn credentials.")]),s("p",null,[n("We offer two file formats for the case files themselves: JSON (JavaScript Object Notation) and Turtle (Terse RDF Triple Language). The JSON files are parsed versions of HTML files downloaded from PACER. The Turtle files are the product of a SCALES script that (1) straightforwardly translates the JSON files into a graph-data paradigm and (2) pulls in additional data sources that we deemed research-worthy: our "),b,n(", our "),y,n(", and the Federal Judicial Center's "),s("a",w,[n("Integrated Database (IDB)"),a(e)]),n(" and "),s("a",_,[n("judge biography directory"),a(e)]),n(".")]),q,x,s("p",null,[n("For convenience, alongside the case files hosted on our file server, we also maintain a folder of CSV case-number lists describing the various categories of data we possess (some of which exceed the scope of the case files on the server). Many of the lists enumerate the results of scraper runs chronicled in the "),a(p,{to:"/guide/pipeline/#federal-courts-pacer"},{default:o(()=>[n("pipeline documentation")]),_:1}),n(". The categories are defined as follows:")]),j,s("p",null,[n("Because the JSON files come directly from our PACER parser, the "),a(p,{to:"/parser/#json-schema"},{default:o(()=>[n("JSON Schema")]),_:1}),n(" section of the parser documentation specifies their structure.")]),N,s("p",null,[n("Feel free to "),S,n(" to request access to our data files if these examples piqued your interest, and/or "),s("a",E,[n("register"),a(e)]),n(" for our research tool Satyrn if you prefer an even more user-friendly approach to the data!")])])}const R=l(h,[["render",I],["__file","index.html.vue"]]);export{R as default};
